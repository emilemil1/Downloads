let t,n,i,l=[],o=[],r=[],a=[],d=-1,s=[],m=[],c="date",u=null,h=null,f="descending",g=!1;const p=[{name:"m",width:320,size:":/thumbnails/0/c320x180_Crop/content"},{name:"l",width:640,size:":/thumbnails/0/c640x360_Crop/content"},{name:"",width:1600,size:"/content"}];let C,v,y,E,x,b,N,w,I,A,k,T,S,B,M,U,D,L,W,H,Q,F,R,z,O,P,J,q,V,_,j,Y=!1,X=10,G=1,K=1,Z=!1,$=1,ee=!1,te=!0,ne=!1,ie=window.mainHeight,le=window.rem;function oe(e){for(let t in e)if(e.hasOwnProperty(t))return!1;return!0}function re(){M.lastElementChild.style.filter="",M=void 0}function ae(e){e.target!==e.currentTarget&&e.target!==y||void 0===M||Se()}function de(e){if(M===e.currentTarget)return void Se();let t=e.currentTarget.data;void 0!==M?(re(),M=e.currentTarget,se(t)):(M=e.currentTarget,setTimeout(function(){se(t)},1e3,t)),E.setAttribute("willchange",""),U.removeEventListener("transitionend",he),x.firstElementChild.setAttribute("active",""),B.textContent=t.name,B.parentElement.style.backgroundColor=Xe(Te(t.images[t.thumbnailIndex].dominantColor,52)),M.lastElementChild.style.filter="drop-shadow(0 0 0.4rem "+Xe(Te(t.images[t.thumbnailIndex].dominantColor,220))+")",ze(function(e){return l.findIndex(function(t){return t.date===e.date})+1}(e.currentTarget.data))}function se(e){let t=M,i="https://api.onedrive.com/v1.0/shares/s!AqeaU-N5JvJ_gYJLVTUOUyNy1NFPHA/root:/"+encodeURIComponent(e.fullName)+":/children?select=audio,file,@content.downloadUrl";w.style.visibility="visible",fetch(i).then(e=>e.json()).then(function(e){if(void 0===M)return;n={files:[],images:[]};let i=[],l=[],o=0,r=0;for(item of e.value)item.file.mimeType.startsWith("audio")?(item.name=M.data.files[r].name,r++,i.push(item)):item.file.mimeType.startsWith("image")&&(item.name=M.data.images[o].name,o++,l.push(item));for(file of i)1===i.length?Ae(file,"Nightcore"):Ae(file);for(img of l)ke(img);t===M&&(!function(){let e=document.createDocumentFragment(),t=document.createDocumentFragment(),i=0;for(file of n.files)e.appendChild(document.createElement("div")),e.lastElementChild.index=i,i++,we(file,e.lastChild),e.lastElementChild.firstElementChild.onclick=me;for(image of(i=0,n.images))t.appendChild(document.createElement("div")),t.lastElementChild.index=i,i++,Ie(image,t.lastChild),t.lastElementChild.firstElementChild.onclick=me;0===n.files.length?(I.children[1].children[0].textContent="TRACKS - None Available",I.children[1].children[2].style.marginTop="1rem"):(I.children[1].children[0].textContent="TRACKS",I.children[1].children[2].style.marginTop="");0===n.images.length?I.children[1].children[2].textContent="IMAGES - None Available":I.children[1].children[2].textContent="IMAGES";let l=document.createElement("div");l.className="explorer-box-content",b.replaceChild(l,b.firstElementChild),l.appendChild(e),(l=document.createElement("div")).className="explorer-box-content",N.replaceChild(l,N.firstElementChild),l.appendChild(t)}(),w.style.visibility="hidden")})}function me(e){let t,i=e.currentTarget.parentElement;if(i.hasAttribute("active"))return i.removeAttribute("active"),P=void 0,void fe();i.setAttribute("active",""),void 0!==P&&(P.removeAttribute("active"),P=void 0),i.parentNode.parentNode.classList.contains("explorer-box-files")?t="file":i.parentNode.parentNode.classList.contains("explorer-box-images")&&(t="image"),P=i,function(e,t,i){E.setAttribute("darken",""),Z=!1,""==L.style.opacity?ue(!0):"flex"===z.style.display?(xe(),"file"===t?setTimeout(function(){!1===Z&&ue(!0)},100):"image"===t&&setTimeout(function(){!1===Z&&ue(!0)},100)):"grid"===O.style.display&&("image"===t?setTimeout(function(){!1===Z&&ue(!0)},100):"file"===t&&setTimeout(function(){!1===Z&&ue(!0)},100));if(U.style.opacity=1,U.style.pointerEvents="all","image"===t){let e=document.createElement("img"),t=P,l=function(){t===P&&"timeout"===D.note&&e.complete&&(D.src=e.src,D.downloadUrl=n.images[i].url,D.index=i,z.style.display="",O.style.display="grid",L.style.transition="",L.style.opacity=0,Z=!0,R.style.fontSize=.4*R.parentNode.offsetHeight+"px",pe())};e.onload=function(){l()},e.onerror=function(){},""===O.style.display?setTimeout(function(){void 0!==P&&(D.note="timeout",l())},1e3):D.note="timeout",e.src=n.images[i].url}else"file"===t&&(q.firstElementChild.style.backgroundColor=Xe(Te(M.data.images[0].dominantColor,64)),fetch(n.files[i].url,{mode:"cors"}).then(function(e){return e.blob()}).then(function(t){W.src=URL.createObjectURL(t),W.type=n.files[i].type,H.textContent=n.files[i].short,Q.textContent=e.songName,W.downloadUrl=n.files[i].url,W.index=i,function(){O.style.display="",L.style.transition="",L.style.opacity=0,z.style.display="flex",Z=!0,F.offsetHeight<F.parentNode.offsetWidth?F.style.fontSize=.9*F.offsetHeight+"px":F.style.fontSize=.9*F.parentNode.offsetWidth+"px";J.firstElementChild.className="fas fa-play",clearInterval(W.progressMeter),ve(!0),pe()}()}))}(M.data,t,i.index)}function ce(e){e.target===e.currentTarget&&void 0!==P&&(P.removeAttribute("active"),P=void 0,fe())}function ue(e=!1,t=!1){if(t){let e=function(){L.style.transition="",L.removeEventListener("transitionend",e)};L.addEventListener("transitionend",e),L.style.transition="opacity 0.5s"}L.style.opacity="",pe(),e||(O.style.display="",z.style.display="")}function he(){ue(),U.removeEventListener("transitionend",he)}function fe(){xe();U.addEventListener("transitionend",he),E.removeAttribute("darken"),U.style.opacity=0,U.style.pointerEvents="",D.note=null}function ge(){if(void 0===M)return;let e=Te(M.data.images[0].dominantColor,80);J.style.backgroundColor=Xe(e)}function pe(){if(void 0===M)return;let e=Te(M.data.images[0].dominantColor,64);J.style.backgroundColor=Xe(e)}function Ce(){let e=Math.round(W.currentTime/W.duration*Ce.totalWidth);q.firstElementChild.style.width=e+"px",e===Ce.totalWidth&&(J.firstElementChild.className="fas fa-play",q.firstElementChild.style.width="0px")}function ve(e=!1){Ce.totalWidth=parseInt(q.offsetWidth),e?q.firstElementChild.style.width="0px":(Ce.currentWidth=Math.floor(W.currentTime/W.duration*Ce.totalWidth),q.firstElementChild.style.width=Ce.currentWidth+"px")}function ye(e){ee=!0,clearInterval(W.progressMeter);let t=e.clientX,n=e.offsetX;q.firstElementChild.style.width=n+"px";let i=function(e){q.firstElementChild.style.width=Math.max(Math.min(e.clientX-t+n,Ce.totalWidth),0)+"px",V.textContent=je(Math.round(parseInt(q.firstElementChild.style.width)/Ce.totalWidth*W.duration))};window.addEventListener("mousemove",i),i(e),window.addClickQueue(function(){ee=!1,W.paused||(W.progressMeter=setInterval(Ce,100)),window.removeEventListener("mousemove",i);let e=parseInt(q.firstElementChild.style.width)/Ce.totalWidth;!function(e){W.currentTime=e,q.firstElementChild.style.width=Math.round(W.currentTime/W.duration*Ce.totalWidth)+"px"}(W.duration*e)},!0),e.stopPropagation()}function Ee(){"fas fa-play"===J.firstElementChild.className?(ve(),0===W.currentTime||W.currentTime===W.duration?(W.volume=$,W.play()):function(){W.volume=0;let e=W.volume,t=$-W.volume,n=0;W.play();let i=setInterval(function(){W.volume=be(n,e,t,1),(n+=.02)>=1&&clearInterval(i)},10)}(),ge(),J.firstElementChild.className="fas fa-pause"):(0!==W.currentTime&&xe(),ge(),J.firstElementChild.className="fas fa-play")}function xe(){if(0===W.volume)return;let e=W.volume,t=0-e,n=0,i=setInterval(function(){W.volume=be(n,e,t,1),(n+=.02)>=1&&(clearInterval(i),clearInterval(W.progressMeter),W.pause(),clearInterval(W.progressMeter))},10)}function be(e,t,n,i){return-n/2*(Math.cos(Math.PI*e/i)-1)+t}function Ne(){let e=document.createElement("a");"flex"===z.style.display?(e.href=W.downloadUrl,e.download=M.data.files[W.index].name):"grid"===O.style.display&&(e.href=D.downloadUrl,e.download=M.data.images[D.index].name),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)}function we(e,t){let n=t;n.className="explorer-box-item",n.appendChild(document.createElement("div")),n.appendChild(document.createElement("div")),n.firstChild.className="explorer-box-item-title",n.firstChild.textContent=e.short,n.lastChild.className="item-options",n.lastChild.appendChild(document.createElement("i")),n.lastChild.firstChild.className="fas fa-ellipsis-v"}function Ie(e,t){let n=t;n.className="explorer-box-item",n.appendChild(document.createElement("div")),n.appendChild(document.createElement("div")),n.firstChild.className="explorer-box-item-title",n.firstChild.textContent=e.title,n.lastChild.className="item-options",n.lastChild.appendChild(document.createElement("i")),n.lastChild.firstChild.className="fas fa-ellipsis-v"}function Ae(e,t=null){let i,l=e.name;i=null!==t?t:l.includes("(Extended) (Nightcore)")?"Extended Nightcore":l.includes("(Extended) (Original)")?"Extended Original":l.includes("(Nightcore)")?"Nightcore":l.includes("Video Edit")?"Video Edit":"Original";let o=e.file.mimeType,r=e["@content.downloadUrl"];n.files.push({title:l,short:i,url:r,type:o})}function ke(e){let t=e.name,i=e.image,l=e["@content.downloadUrl"];n.images.push({title:t,resolution:i,url:l})}function Te(e,t){let n=3*t/(e.r+e.g+e.b);return{r:Math.round(e.r*n),g:Math.round(e.g*n),b:Math.round(e.b*n)}}function Se(){fe(),E.removeAttribute("willchange"),x.firstElementChild.removeAttribute("notransition"),x.firstElementChild.removeAttribute("active"),B.parentElement.style.backgroundColor="rgb(26,26,26)",re(),setTimeout(function(){w.style.visibility="visible",b.replaceChild(document.createElement("div"),b.firstElementChild),N.replaceChild(document.createElement("div"),N.firstElementChild)},1e3),ze(Oe.prevSearch)}function Be(e){let t=e.currentTarget,n=t.parentElement.parentElement.data,i="https://api.onedrive.com/v1.0/shares/s!AqeaU-N5JvJ_gYJLVTUOUyNy1NFPHA/root:/"+encodeURIComponent(n.fullName)+"/"+encodeURIComponent(n.images[n.thumbnailIndex].name)+[C.size];t.src!==i&&(t.src=i)}function Me(e){if(81===e.currentTarget.naturalHeight)return void Be(e);let t=e.currentTarget,n=t.parentElement.parentElement.data,i=Xe(n.images[n.thumbnailIndex].dominantColorDark);if(n.gridItem.lastElementChild.style.backgroundColor=i,void 0!==t.shadow){if(d--,s.push(t),d<0)t.shadow=void 0;else if(0===d){for(t of s)t.shadow.style.opacity=0,t.style.opacity=1,t.shadow=void 0;d=-1}}else t.style.opacity=1}function Ue(){if("1"===U.style.opacity||-1!==d)return;d=a.length,s=[];for(let n=0;n<a.length;n++){let i,l=a[n],o=l.images,r=l.gridItem.lastElementChild.firstElementChild;"1"===r.style.opacity?i=l.gridItem.lastElementChild.lastElementChild:(i=r,r=l.gridItem.lastElementChild.lastElementChild),l.thumbnailIndex=(e=l.thumbnailIndex+1,t=Math.min(o.length,5),(e%t+t)%t);let d=l.thumbnailIndex;if(void 0===l.images[d].dominantColorDark){let e=l.images[d].dominantColor,t=96/(e.r+e.g+e.b);l.images[d].dominantColorDark={r:e.r*t,g:e.g*t,b:e.b*t}}i.shadow=r,void 0!==l.images[d].imgurId?i.src="https://i.imgur.com/"+l.images[d].imgurId+C.name+".jpg":i.src="https://api.onedrive.com/v1.0/shares/s!AqeaU-N5JvJ_gYJLVTUOUyNy1NFPHA/root:/"+encodeURIComponent(l.fullName)+"/"+encodeURIComponent(l.images[l.thumbnailIndex].name)+[C.size]}var e,t}function De(e,t){let n=e.name.toLowerCase(),i=t.name.toLowerCase();return result=n<i?-1:n>i?1:0,We.mod?result:-result}function Le(e,t){return e.date<t.date?result=-1:e.date>t.date?result=1:result=0,We.mod?result:-result}function We(e){if(u===c&&h===f)return!1;let t,n=c.toLowerCase(),i=f.toLowerCase();return We.mod=!0,"descending"===i&&(We.mod=!1),"name"===n?t=De:"date"===n&&(t=Le),e.sort(t),u=c,h=f,!0}function He(){let e=y.offsetWidth,t=E.offsetHeight-2*le-6*le,n=16*le,i=1*le;K=Math.floor((e-n)/(n+i))+1,itemWidth=(e-(K-1)*i)/K;let l=.5625*(itemWidth-6)+36+6,o=Math.max(Math.floor((t-l)/(l+i))+1,1);G=o*K,X=o*K*3}function Qe(e){for(folder of(C=itemWidth<p[0]?p[0]:itemWidth<p[1].width?p[1]:p[2],e)){void 0!==folder.images[folder.thumbnailIndex].imgurId?folder.currImg="https://i.imgur.com/"+folder.images[folder.thumbnailIndex].imgurId+C.name+".jpg":folder.currImg="https://api.onedrive.com/v1.0/shares/s!AqeaU-N5JvJ_gYJLVTUOUyNy1NFPHA/root:/"+encodeURIComponent(folder.fullName)+"/"+encodeURIComponent(folder.images[folder.thumbnailIndex].name)+[C.size];let e=folder.gridItem.lastElementChild.firstElementChild;""==e.src&&(e.src=folder.currImg,e.complete&&(e.style.transition="opacity 0s",e.style.opacity=1))}}function Fe(){let n=[],i=-o.length%K;y.style.gridTemplateColumns="";for(let e=o.length;n.length<X+i;e++){if(o.length===r.length){v.style.display="none";break}o.push(r[e]),n.push(r[e]),r[e].images.length>1&&a.push(r[e])}Qe(n);let l=document.createDocumentFragment();for(e of n){if(!1===e.rgbset){let t=Xe(e.images[0].dominantColorDark);e.gridItem.lastElementChild.style.backgroundColor=t}l.appendChild(e.gridItem)}y.appendChild(l),void 0!==t&&(clearInterval(t),d=-1),t=setInterval(Ue,7e3)}function Re(e,t){return!!e.name.toLowerCase().includes(t.toLowerCase())&&(!0!==g||void 0!==e.files)}function ze(e){let t=window.location.href,n=t;n=t.includes("index.html")?t.substring(0,t.indexOf("index.html")+10):t.substring(0,t.lastIndexOf("/")+1);let i="";""!==e&&(i+="s="+e+"&"),"date"!==c.toLowerCase()&&(i+="sb=name&"),"descending"!==f.toLowerCase()&&(i+="o=asc&"),!1!==g&&(i+="f=song&"),""!==i&&(n+=i="?"+i.substring(0,i.length-1)),url2=encodeURI(n),n!=t&&window.history.replaceState("","",n)}function Oe(n){if(!Y)return;ze(n);let i,s=function e(){let t=!1;return f!==e.orderBy?t=!0:c!==e.sortBy?t=!0:g!==e.filterSong&&(t=!0),e.orderBy=f,e.sortBy=c,e.filterSong=g,t}();We(l);let m=[];if(!isNaN(n)&&""!==n&&l.length>=parseInt(n))void 0===Oe.prevSearchData&&(ne=!0,k.value=l[parseInt(n)-1].name),m.push(l[parseInt(n)-1]);else{ne=!1,i=void 0!==Oe.prevSearch&&n.includes(Oe.prevSearch)&&!s?Oe.prevSearchData:l;for(let e of i)Re(e,n)&&m.push(e)}Oe.prevSearch=n,Oe.prevSearchData=m,function(n){for(folder of(r=n,o=[],n)){if(o.length===G)break;if(o.push(folder),!1===folder.rgbset){let e=Xe(folder.images[0].dominantColorDark);folder.gridItem.lastElementChild.style.backgroundColor=e}}Qe(o),o.length<r.length?v.style.display="flex":v.style.display="none",a=[];for(let e of o)e.images.length>1&&a.push(e);0!==E.childElementCount&&(E.removeChild(y),(y=document.createElement("div")).className="grid",E.insertBefore(y,v));let i=document.createDocumentFragment();for(e of o)i.appendChild(e.gridItem);if(y.appendChild(i),o.length<=3){let e=Math.min(3,G);y.style.gridTemplateColumns="repeat("+e+", 1fr)"}else y.style.gridTemplateColumns="";void 0!==t&&(clearInterval(t),d=-1),t=setInterval(Ue,7e3),!0===ne&&de({currentTarget:y.firstElementChild})}(m)}function Pe(e){c=e,A.firstElementChild.textContent=c,function(e){let t=T.lastElementChild.firstElementChild.lastElementChild;"Name"===e?(t.children[0].textContent="A-Z",t.children[0].setAttribute("value","Ascending"),t.children[1].textContent="Z-A",t.children[1].setAttribute("value","Descending")):"Date"===e&&(t.children[0].textContent="Newest",t.children[0].setAttribute("value","Descending"),t.children[1].textContent="Oldest",t.children[1].setAttribute("value","Ascending"))}(c);let t=A.firstElementChild.getAttribute("index"),n=A.lastElementChild.firstElementChild.lastElementChild;n.children[t].removeAttribute("checked"),"Date"===c?(A.firstElementChild.setAttribute("index","0"),n.children[0].setAttribute("checked",""),Je("Descending")):"Name"===c&&(A.firstElementChild.setAttribute("index","1"),n.children[1].setAttribute("checked",""),Je("Ascending")),Oe(k.value)}function Je(e){f=e;let t=T.firstElementChild.getAttribute("index"),n=T.lastElementChild.firstElementChild.lastElementChild;n.children[t].removeAttribute("checked");let i=0;"Ascending"===f&&(i=1),"Name"===c&&(i=Math.abs(i-1)),T.firstElementChild.setAttribute("index",i),n.children[i].setAttribute("checked",""),T.firstElementChild.textContent=n.children[i].textContent,Oe(k.value)}function qe(e){if(volumeSlider.parentNode.hasAttribute("active2")||!0===qe.skip)return void(qe.skip=!1);let t=function(){volumeSlider.onmousedown="",volumeSlider.parentNode.removeAttribute("active2")};window.addClickQueue(t,!0),volumeSlider.onmousedown=function(e){window.removeClickQueue(t);window.addClickQueue(function(e){let n=parseFloat(volumeSlider.offsetHeight),i=Math.max(Math.min(n+(volumeSlider.rect.top-104-e.y),n),0)/n;Ve(i),localStorage.setItem("volume",i),volumeSlider.rect.left<=e.x&&e.x<=volumeSlider.rect.right&&volumeSlider.rect.top-104<=e.y&&e.y<=volumeSlider.rect.bottom&&(qe.skip=!0),window.addClickQueue(t,!0),window.onmousemove=""},!0),window.onmousemove=_e;let n=parseFloat(volumeSlider.offsetHeight);Ve(Math.max(Math.min(n+(volumeSlider.rect.top-104-e.y),n),0)/n)},volumeSlider.rect=volumeSlider.getBoundingClientRect(),volumeSlider.parentNode.setAttribute("active2",""),e.stopPropagation()}function Ve(e){$=e,W.volume=e,j.textContent=Math.round(100*W.volume)+"%",volumeSlider.firstElementChild.style.height=100*W.volume+"%",volumeSlider.parentNode.firstElementChild.className=$>.35?"fas fa-volume-up":$>0?"fas fa-volume-down":"fas fa-volume-off"}function _e(e){let t=parseFloat(volumeSlider.offsetHeight);Ve(Math.max(Math.min(t+(volumeSlider.rect.top-104-e.y),t),0)/t)}function je(e){let t=Math.floor(e/60);return(e%=60)<10&&(e="0"+e),t+":"+e}function Ye(e){for(let e of m)e.removeAttribute("active");e||x.firstElementChild.setAttribute("willchange","")}function Xe(e){return"rgb("+e.r+","+e.g+","+e.b+")"}function Ge(e){if(void 0!==i)return void 0!==e?e&&e in i?i[e]:{}:i;i={};let t=decodeURIComponent(window.location.href.slice(window.location.href.indexOf("?")+1));return t===decodeURIComponent(window.location.href)?e&&e in i?i[e]:i:(t.split("&").forEach(function(e){let t=e.split("=",2);i[t[0]]=t[1]}),void 0!==e?e&&e in i?i[e]:{}:i)}function Ke(){let e=Ge(),t=e.sb,n=e.o,i=e.f,l=e.s;oe(i)||"song"===i&&(g=!0,S.setAttribute("checked","")),oe(t)?Pe("Date"):"name"===t?Pe("Name"):"date"===t&&Pe("Date"),oe(n)?Je("Descending"):"asc"===n?Je("Ascending"):"desc"===n&&Je("Descending"),oe(l)||(document.getElementsByClassName("search-field")[0].value=l)}function Ze(e){let t=function(){let e=document.createDocumentFragment();e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),e.childNodes[0].className="image-bar",e.childNodes[1].className="sixteenbynine";let t=e.childNodes[1];return t.appendChild(document.createElement("img")),t.childNodes[0].className="gallery-image",(t=e.childNodes[0]).appendChild(document.createElement("span")),t.childNodes[0].className="image-title",e}(),n=function(){let e=document.createDocumentFragment();return e.appendChild(document.createElement("img")),e.childNodes[0].className="gallery-image",e}();for(let i of e){let e=t.cloneNode(!0);e.lastElementChild.firstElementChild.onload=Me,e.lastElementChild.firstElementChild.onerror=Be,e.firstElementChild.firstElementChild.textContent=i.name;let o=i.images[0].dominantColor,r=96/(o.r+o.g+o.b);for(img of(i.images[0].dominantColorDark={r:o.r*r,g:o.g*r,b:o.b*r},i.fullName=i.name,void 0!==i.suffix&&(i.fullName+=" - "+i.suffix),i.thumbnailIndex=0,1!=i.images.length&&(e.childNodes[1].appendChild(n.cloneNode(!0)),e.childNodes[1].childNodes[e.childNodes.length-1].onload=Me,e.childNodes[1].childNodes[e.childNodes.length-1].onerror=Be,e.childNodes[1].childNodes[e.childNodes.length-1].style.opacity=0),i.images))img.name.startsWith("ยง")&&(img.name=i.name+img.name.substring(1));if(void 0!==i.files)for(file of i.files)file.name.startsWith("ยง")&&(file.name=i.name+file.name.substring(1));i.gridItem=document.createElement("div"),i.gridItem.onclick=de,i.gridItem.className="grid-item",i.gridItem.appendChild(e),i.gridItem.data=i,i.rgbset=!1,l.push(i)}}function $e(e){let t=e.currentTarget;t.hasAttribute("checked")?t.removeAttribute("checked"):t.setAttribute("checked",""),"filtersong-select"===t.getAttribute("id")&&(g=t.hasAttribute("checked"),Oe(k.value))}function et(e){let t=e.currentTarget.parentElement.parentElement.parentElement.parentElement,n=e.currentTarget.getAttribute("value");t.removeAttribute("active"),t.firstElementChild.textContent!==e.currentTarget.textContent?("order-select"===t.getAttribute("id")?Je(n):"sort-select"===t.getAttribute("id")&&Pe(n),e.stopPropagation()):e.stopPropagation()}function tt(e){e.currentTarget.hasAttribute("active")||(x.firstElementChild.removeAttribute("willchange"),Ye(!0),e.currentTarget.setAttribute("active",""),m.push(e.currentTarget),e.stopPropagation())}E=document.getElementsByClassName("main")[0],k=document.getElementsByClassName("search-field")[0],T=document.getElementById("order-select"),A=document.getElementById("sort-select"),S=document.getElementById("filtersong-select"),I=document.getElementsByClassName("explorer")[0],b=document.getElementsByClassName("explorer-box-files")[0],N=document.getElementsByClassName("explorer-box-images")[0],w=document.getElementsByClassName("explorer-loading")[0],y=E.firstElementChild,v=E.lastElementChild,x=document.getElementsByClassName("sidebar")[0],B=document.getElementsByClassName("return-title")[0],U=document.getElementsByClassName("highlight")[0],D=document.getElementsByClassName("highlight-image")[0],L=document.getElementsByClassName("highlight-load")[0],O=document.getElementsByClassName("highlight-image-container")[0],W=document.getElementsByClassName("highlight-song")[0],z=document.getElementsByClassName("highlight-song-container")[0],J=document.getElementsByClassName("audio-controls-play")[0],q=document.getElementsByClassName("audio-controls-progress")[0],V=document.getElementsByClassName("audio-controls-progress-elapsed")[0],_=document.getElementsByClassName("audio-controls-progress-total")[0],H=document.getElementsByClassName("highlight-song-overlay-type")[0],Q=document.getElementsByClassName("highlight-song-overlay-title")[0],F=document.getElementsByClassName("highlight-song-overlay-download")[0],R=document.getElementsByClassName("highlight-image-overlay-download")[0],volumeSlider=document.getElementsByClassName("audio-controls-volume-sliderbg")[0],j=document.getElementsByClassName("audio-controls-volume-text")[0],Ke(),function(){window.onresize=function(){le=parseFloat(getComputedStyle(document.documentElement).fontSize),ie=document.documentElement.scrollHeight-3.5*le-2*le,He(),Qe(o),ve(),"flex"===z.style.display&&(F.offsetHeight<F.parentNode.offsetWidth?F.style.fontSize=.9*F.offsetHeight+"px":F.style.fontSize=.9*F.parentNode.offsetWidth+"px"),"grid"===O.style.display&&(R.style.fontSize=.4*R.parentNode.offsetHeight+"px"),volumeSlider.rect=volumeSlider.getBoundingClientRect()},E.onclick=ae,R.onclick=Ne,F.onclick=Ne,U.onmousedown=ce,J.onmouseover=ge,J.onmouseout=pe,J.onclick=Ee,q.onmousedown=ye,volumeSlider.onclick=qe,B.parentElement.children[1].onclick=Se,S.onclick=$e,T.onclick=tt,A.onclick=tt,I.lastElementChild.onclick=ce;let e=document.getElementsByClassName("option-dropdown-item");for(let t=0;t<e.length;t++)e.item(t).onclick=et;v.firstElementChild.firstElementChild.onclick=function(){let e=E.scrollTop;Fe(),requestAnimationFrame(function(){E.scrollTop=e})},k.oninput=function(e){Oe(k.value)},k.style.transition="outline 0.15s ease",requestAnimationFrame(function(){S.removeAttribute("noanim")}),window.clickQueue=[],window.onmouseup=function(e){for(let t=clickQueue.length-1;t>=0;t--)clickQueue[t].func(e),!0===clickQueue[t].once&&clickQueue.splice(t,1)},window.addClickQueue=function(e,t="false"){window.clickQueue.push({func:e,once:t})},window.removeClickQueue=function(e){for(let t=clickQueue.length-1;t>=0;t--)if(clickQueue[t].func===e){clickQueue.splice(t,1);break}},window.addClickQueue(Ye.bind(this,!1)),W.ontimeupdate=function(e){Ce(),ee||(V.textContent=je(Math.round(W.currentTime)))},W.onloadedmetadata=function(e){_.textContent=je(Math.round(W.duration))};let t=document.createElement("div");""!==t.style.clipPath?te=!1:(t.style.clipPath="polygon(0px 0px, 100% 0px, 100% 100%, 0px 100%, 0px 0px, 2px 2px, 2px calc(100% - 2px), calc(100% - 2px) calc(100% - 2px), calc(100% - 2px) 2px, 2px 2px)","polygon(0px 0px, 100% 0px, 100% 100%, 0px 100%, 0px 0px, 2px 2px, 2px calc(100% - 2px), calc(100% - 2px) calc(100% - 2px), calc(100% - 2px) 2px, 2px 2px)"!==t.style.clipPath&&(te=!1))}(),He(),function(){let e=localStorage.getItem("volume");Ve(null!==e?e:.5)}(),document.addEventListener("DOMContentLoaded",async function(){await window.preload,Ze(window.folders),clearTimeout(window.spinAdd),document.getElementById("spinner").remove(),Y=!0;let e=Ge("s");oe(e)?Oe(""):Oe(e)});
